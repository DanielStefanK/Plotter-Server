(function(t){function e(e){for(var a,r,s=e[0],c=e[1],l=e[2],u=0,v=[];u<s.length;u++)r=s[u],o[r]&&v.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},o={app:0},i=[];function r(t){return s.p+"js/"+({settings:"settings"}[t]||t)+"."+{settings:"e79b6773"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise(function(e,a){n=o[t]=[e,a]});e.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=r(t),i=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+a+": "+i+")");r.type=a,r.request=i,n[1](r)}o[t]=void 0}};var l=setTimeout(function(){i({type:"timeout",target:c})},12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),o=n("bb71");n("da64");a["a"].use(o["a"],{iconfont:"fa5"});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t.$vuetify.breakpoint.mdAndDown?n("v-list",{attrs:{dense:""}},[n("v-list-tile",[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[n("v-icon",[t._v("chevron_left")])],1)],1)],1):t._e(),n("v-list",{attrs:{dense:""}},t._l(t.routes,function(e){return n("v-list-tile",{key:e.path,attrs:{to:{name:e.name},exact:""}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.meta.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.meta.title))])],1)],1)}),1)],1),n("v-toolbar",{attrs:{color:"indigo",dark:"",fixed:"",app:""}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t.$vuetify.breakpoint.smAndUp?[n("v-toolbar-title",[t._v("Plotter UI")]),n("v-spacer"),t._v("\n      URL: "+t._s(t.plotterURL)+"    \n    ")]:[n("v-spacer")],n("v-tooltip",{attrs:{bottom:""}},[n("v-icon",{attrs:{slot:"activator",color:t.icon.color},slot:"activator"},[t._v("fa-"+t._s(t.icon.icon))]),n("span",[t._v(t._s(t.icon.tooltip))])],1),t._v("  \n    "),n("v-tooltip",{attrs:{bottom:""}},[n("v-btn",{attrs:{slot:"activator",icon:"",loading:t.loadingCheck},on:{click:t.check},slot:"activator"},[n("v-icon",{attrs:{color:"accent"}},[t._v("fa-wifi")])],1),n("span",[t._v("Check connection")])],1),n("v-tooltip",{attrs:{bottom:""}},[n("v-menu",{attrs:{slot:"activator","close-on-content-click":!1,"nudge-width":200,"offset-y":""},slot:"activator",model:{value:t.connectionMenu,callback:function(e){t.connectionMenu=e},expression:"connectionMenu"}},[n("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[n("v-icon",{attrs:{color:"accent"}},[t._v("fa-edit")])],1),n("edit-connection-card",{on:{close:function(e){t.connectionMenu=!1}}})],1),n("span",[t._v("edit connection")])],1)],2),n("v-content",[n("v-slide-y-transition",{attrs:{mode:"out-in"}},[n("router-view")],1)],1)],1)},r=[],s=n("cebc"),c=n("2f62"),l=n("eb93"),u={name:"App",components:{EditConnectionCard:l["a"]},data:function(){return{drawer:null,loadingCheck:!1,connectionMenu:!1}},created:function(){this.initialiseStore(),this.check()},computed:Object(s["a"])({},Object(c["d"])(["health","plotterURL"]),{icon:function(){switch(this.health){case"unkown":return{color:"white",icon:"question-circle",tooltip:"State Unkown"};case"connected":return{color:"success",icon:"check-circle",tooltip:"Connected"};case"error":return{color:"error",icon:"exclamation-circle",tooltip:"Error"};default:return{color:"grey",icon:"question-circle",tooltip:"State Unkown"}}},routes:function(){return this.$router.options.routes}}),methods:Object(s["a"])({},Object(c["b"])(["checkHealth"]),Object(c["c"])(["initialiseStore"]),{check:function(){var t=this;this.loadingCheck=!0,this.checkHealth().catch(function(){}).finally(function(){t.loadingCheck=!1})}})},d=u,v=n("2877"),f=n("6544"),p=n.n(f),h=n("7496"),b=n("8336"),m=n("549c"),y=n("132d"),x=n("8860"),g=n("ba95"),_=n("40fe"),w=n("5d23"),k=n("e449"),S=n("f774"),V=n("0789"),C=n("9910"),L=n("71d9"),j=n("706c"),T=n("2a7f"),O=n("3a2f"),P=Object(v["a"])(d,i,r,!1,null,null,null);P.options.__file="App.vue";var U=P.exports;p()(P,{VApp:h["a"],VBtn:b["a"],VContent:m["a"],VIcon:y["a"],VList:x["a"],VListTile:g["a"],VListTileAction:_["a"],VListTileContent:w["a"],VListTileTitle:w["b"],VMenu:k["a"],VNavigationDrawer:S["a"],VSlideYTransition:V["d"],VSpacer:C["a"],VToolbar:L["a"],VToolbarSideIcon:j["a"],VToolbarTitle:T["a"],VTooltip:O["a"]});var R=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",lg6:""}},[n("drawn-card")],1),n("v-flex",{attrs:{xs12:"",lg6:""}},[n("v-card",[n("v-layout",{attrs:{column:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-layout",{attrs:{row:""}},[n("stepper-card",{attrs:{flat:""}}),n("status-card",{attrs:{flat:""}})],1)],1),n("v-flex",{attrs:{xs3:""}},[n("go-to-card",{attrs:{flat:""}})],1)],1)],1)],1)],1)],1)},M=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"500px"}},[n("canvas",{ref:"my-canvas"})])},H=[],B=(n("ac6a"),{data:function(){return{provider:{context:null},height:0,width:0}},computed:Object(s["a"])({},Object(c["d"])(["sendPositions"])),methods:{draw:function(){var t=this,e={x:0,y:this.height,pen:!1};this.provider.context.beginPath(),this.provider.context.moveTo(e.x,e.y),this.sendPositions.forEach(function(e){e.pen?t.provider.context.lineTo(e.x,t.height-e.y):t.provider.context.moveTo(e.x,t.height-e.y)}),this.provider.context.stroke()}},watch:{sendPositions:function(){this.provider.context.clearRect(0,0,this.width,this.height),this.draw()}},mounted:function(){this.provider.context=this.$refs["my-canvas"].getContext("2d"),this.$refs["my-canvas"].width=this.$refs["my-canvas"].parentElement.clientWidth,this.$refs["my-canvas"].height=this.$refs["my-canvas"].parentElement.clientHeight,this.width=this.$refs["my-canvas"].width,this.height=this.$refs["my-canvas"].height,this.draw()}}),D=B,z=n("b0af"),A=Object(v["a"])(D,E,H,!1,null,null,null);A.options.__file="DrawnCard.vue";var F=A.exports;p()(A,{VCard:z["a"]});var I=n("8ecb"),q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:t.flat,height:"100%"}},[t.title?n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[t._v("Move Printing Head")])])]):t._e(),n("v-card-text",[n("v-layout",{attrs:{wrap:"",row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{type:"number",label:"X"},model:{value:t.x,callback:function(e){t.x=e},expression:"x"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{type:"number",label:"Y"},model:{value:t.y,callback:function(e){t.y=e},expression:"y"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:t.move}},[t._v("Send")])],1)],1)},N=[],G=n("70f1"),J=n.n(G),Y={props:{title:Boolean,flat:Boolean},data:function(){return{x:10,y:10,isLoading:!1}},created:function(){this.paintState=this.status.pen},watch:{"state.pen":function(){this.paintState=this.status.pen}},computed:Object(s["a"])({},Object(c["d"])(["status"])),methods:Object(s["a"])({},Object(c["b"])(["sendPosition","sendData"]),{move:function(){var t=this;this.isLoading=!0,this.sendPosition({x:this.x,y:this.y,pen:this.status.pen}).catch(function(){}).finally(function(){t.isLoading=!1})},getSendObject:function(){return{x:J()(this.x),y:J()(this.y),pen:this.status.pen}}})},W=Y,X=n("99d9"),K=n("12b2"),Q=n("0e8f"),Z=n("a722"),tt=n("2677"),et=Object(v["a"])(W,q,N,!1,null,null,null);et.options.__file="GoToCard.vue";var nt=et.exports;p()(et,{VBtn:b["a"],VCard:z["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:K["a"],VFlex:Q["a"],VLayout:Z["a"],VSpacer:C["a"],VTextField:tt["a"]});var at=n("b699"),ot={components:{DrawnCard:F,StepperCard:I["a"],GoToCard:nt,StatusCard:at["a"]}},it=ot,rt=n("a523"),st=Object(v["a"])(it,$,M,!1,null,null,null);st.options.__file="Home.vue";var ct=st.exports;p()(st,{VCard:z["a"],VContainer:rt["a"],VFlex:Q["a"],VLayout:Z["a"]}),a["a"].use(R["a"]);var lt=new R["a"]({routes:[{path:"/",name:"home",component:ct,meta:{title:"Home",icon:"fa-home"}},{path:"/settings",name:"settings",meta:{title:"Settings",icon:"fa-cogs"},component:function(){return n.e("settings").then(n.bind(null,"26d3"))}}]}),ut=n("f499"),dt=n.n(ut),vt=n("795b"),ft=n.n(vt),pt=n("a745"),ht=n.n(pt);a["a"].use(c["a"]);var bt=new c["a"].Store({state:{health:"unkown",plotterURL:"http://192.168.0.1/",status:{x:0,y:0,pen:!1},sendPositions:[]},mutations:{initialiseStore:function(t){localStorage.getItem("plotterURL")&&(t.plotterURL=localStorage.getItem("plotterURL"))},setHealth:function(t,e){t.health=e},setURL:function(t,e){t.plotterURL=e,localStorage.setItem("plotterURL",e),t.health="unkown"},setPlotterState:function(t,e){t.status=e},addPosition:function(t,e){ht()(t.sendPositions)?t.sendPositions.push(e):t.sendPositions=[e]}},actions:{checkHealth:function(t){return t.dispatch("sendData",{url:t.state.plotterURL+"health"})},sendPosition:function(t,e){return t.dispatch("sendData",{data:e,url:t.state.plotterURL+"position"}).then(function(e){t.commit("addPosition",e.state)})},sendData:function(t,e){var n=e.data,a=e.url,o=e.path;return new ft.a(function(e,i){fetch(a||t.state.plotterURL+o,{method:"POST",headers:{"Content-Type":"application/json"},body:dt()(n)}).then(function(a){a.ok?(a.json().then(function(n){e(n),n.state&&t.commit("setPlotterState",n.state)}),t.commit("setHealth","connected")):(i(n),t.commit("setHealth","error"))}).catch(function(e){i(e),t.commit("setHealth","error")})})}}});a["a"].config.productionTip=!1,new a["a"]({router:lt,store:bt,render:function(t){return t(U)}}).$mount("#app")},"8ecb":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:t.flat,height:"100%"}},[t.title?n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[t._v("Move Printing Head")])])]):t._e(),n("v-card-text",[n("v-layout",{attrs:{column:"","align-center":""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.move("up")}}},[n("v-icon",[t._v("fa-arrow-up")])],1)],1)],1),n("v-layout",{attrs:{row:"","justify-space-between":""}},[n("v-flex",[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.move("left")}}},[n("v-icon",[t._v("fa-arrow-left")])],1)],1),n("v-flex",[n("v-btn",{attrs:{flat:!t.paintState,loading:t.isLoading,icon:"",color:t.paintState?"primary":"grey darken-2"},on:{click:t.togglePaint}},[n("v-icon",[t._v("fa-paint-brush")])],1)],1),n("v-flex",[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.move("right")}}},[n("v-icon",[t._v("fa-arrow-right")])],1)],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:t.setHome}},[n("v-icon",[t._v("fa-bullseye")])],1)],1),n("v-flex",[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.move("down")}}},[n("v-icon",[t._v("fa-arrow-down")])],1)],1),n("v-flex",[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.move("home")}}},[n("v-icon",[t._v("fa-home")])],1)],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-text-field",{attrs:{type:"number",label:"Step Size"},model:{value:t.stepSize,callback:function(e){t.stepSize=e},expression:"stepSize"}})],1)],1)],1)],1)],1)},o=[],i=n("70f1"),r=n.n(i),s=n("cebc"),c=n("2f62"),l={props:{title:Boolean,flat:Boolean},data:function(){return{stepSize:10,paintState:!1,isLoading:!1}},created:function(){this.paintState=this.status.pen},watch:{"status.pen":function(){this.paintState=this.status.pen}},computed:Object(s["a"])({},Object(c["d"])(["status"])),methods:Object(s["a"])({},Object(c["b"])(["sendPosition","sendData"]),{move:function(t){var e=this;if(this.isLoading=!0,this.stepSize&&""!==this.stepSize&&!isNaN(this.stepSize)){var n,a=r()(this.stepSize);switch(t){case"up":n=this.addMoveToState({y:a,x:0});break;case"down":n=this.addMoveToState({y:-a,x:0});break;case"left":n=this.addMoveToState({y:0,x:-a});break;case"right":n=this.addMoveToState({y:0,x:a});break;case"home":n={x:0,y:0};break}this.sendPosition(n).catch(function(){}).finally(function(){e.isLoading=!1})}},togglePaint:function(){var t=this;this.isLoading=!0,this.sendData({data:{pen:!this.paintState},path:"pen"}).then(function(){t.paintState=!t.paintState}).catch().finally(function(){t.isLoading=!1})},addMoveToState:function(t){return{x:t.x+this.status.x,y:t.y+this.status.y}},setHome:function(){var t=this;this.sendData({data:{},path:"sethome"}).catch().finally(function(){t.isLoading=!1})}})},u=l,d=n("2877"),v=n("6544"),f=n.n(v),p=n("8336"),h=n("b0af"),b=n("99d9"),m=n("12b2"),y=n("0e8f"),x=n("132d"),g=n("a722"),_=n("2677"),w=Object(d["a"])(u,a,o,!1,null,null,null);w.options.__file="StepperCard.vue";e["a"]=w.exports;f()(w,{VBtn:p["a"],VCard:h["a"],VCardText:b["b"],VCardTitle:m["a"],VFlex:y["a"],VIcon:x["a"],VLayout:g["a"],VTextField:_["a"]})},b699:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:t.flat,height:"100%"}},[t.title?n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[t._v("Status of the Plotter")])])]):t._e(),n("v-card-text",[n("v-list",t._l(t.state,function(e){return n("v-list-tile",{key:e.key},[n("v-list-tile-content",[t._v(t._s(e.key)+":")]),n("v-list-tile-content",{staticClass:"align-end"},[t._v(t._s(e.value))])],1)}),1)],1)],1)},o=[],i=n("a4bb"),r=n.n(i),s=n("cebc"),c=n("2f62"),l={props:{title:Boolean,flat:Boolean},computed:Object(s["a"])({},Object(c["d"])(["status"]),{state:function(){var t=this;return r()(this.status).map(function(e){return{key:e,value:t.status[e]}})}})},u=l,d=n("2877"),v=n("6544"),f=n.n(v),p=n("b0af"),h=n("99d9"),b=n("12b2"),m=n("8860"),y=n("ba95"),x=n("5d23"),g=Object(d["a"])(u,a,o,!1,null,null,null);g.options.__file="StatusCard.vue";e["a"]=g.exports;f()(g,{VCard:p["a"],VCardText:h["b"],VCardTitle:b["a"],VList:m["a"],VListTile:y["a"],VListTileContent:x["a"]})},eb93:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"100%"}},[t.title?n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[t._v("Change connection")])])]):t._e(),n("v-card-text",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",[n("v-text-field",{attrs:{label:"URL"},model:{value:t.internalUrl,callback:function(e){t.internalUrl=e},expression:"internalUrl"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:t.change}},[t._v("Change")])],1)],1)},o=[],i=n("cebc"),r=n("2f62"),s={props:{title:Boolean},data:function(){return{internalUrl:""}},created:function(){this.internalUrl=this.plotterURL},watch:{plotterURL:function(){this.internalUrl=this.plotterURL}},computed:Object(i["a"])({},Object(r["d"])(["plotterURL"])),methods:Object(i["a"])({},Object(r["c"])(["setURL"]),{change:function(){this.validate()&&(this.setURL(this.internalUrl),this.$emit("close"))},validate:function(){return!0}})},c=s,l=n("2877"),u=n("6544"),d=n.n(u),v=n("8336"),f=n("b0af"),p=n("99d9"),h=n("12b2"),b=n("0e8f"),m=n("a722"),y=n("9910"),x=n("2677"),g=Object(l["a"])(c,a,o,!1,null,null,null);g.options.__file="EditConnectionCard.vue";e["a"]=g.exports;d()(g,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:h["a"],VFlex:b["a"],VLayout:m["a"],VSpacer:y["a"],VTextField:x["a"]})}});
//# sourceMappingURL=app.cd22f5f2.js.map